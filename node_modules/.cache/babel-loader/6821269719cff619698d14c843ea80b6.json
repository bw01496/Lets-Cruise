{"ast":null,"code":"import React from \"react\";\nconst {\n  REACT_APP_API_URL = `http://localhost:3000/api`\n} = process.env;\nexport const callApi = async ({\n  url,\n  method,\n  token,\n  body\n}) => {\n  console.log(\"from callApi>>\", {\n    body\n  });\n\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    };\n\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    const respObject = await fetch(`${REACT_APP_API_URL}${url}`, options);\n    const data = await respObject.json();\n\n    if (data.error) {\n      throw data.error;\n    }\n\n    console.log('from callapi', data);\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"sources":["/Users/jinzo/Desktop/projects/outdoorsthings/src/components/utils/index.js"],"names":["React","REACT_APP_API_URL","process","env","callApi","url","method","token","body","console","log","options","toUpperCase","headers","JSON","stringify","respObject","fetch","data","json","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAM;AAAEC,EAAAA,iBAAiB,GAAI;AAAvB,IAAsDC,OAAO,CAACC,GAApE;AAEA,OAAO,MAAMC,OAAO,GAAG,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,MAAP;AAAeC,EAAAA,KAAf;AAAsBC,EAAAA;AAAtB,CAAP,KAAwC;AAC7DC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B;AAAEF,IAAAA;AAAF,GAA9B;;AACA,MAAI;AACF,UAAMG,OAAO,GAAG;AACdL,MAAAA,MAAM,EAAEA,MAAM,GAAGA,MAAM,CAACM,WAAP,EAAH,GAA0B,KAD1B;AAEdC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFK;AAKdL,MAAAA,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf;AALQ,KAAhB;;AAOA,QAAID,KAAJ,EAAW;AACTI,MAAAA,OAAO,CAACE,OAAR,CAAgB,eAAhB,IAAoC,UAASN,KAAM,EAAnD;AACD;;AACD,UAAMS,UAAU,GAAG,MAAMC,KAAK,CAAE,GAAEhB,iBAAkB,GAAEI,GAAI,EAA5B,EAA+BM,OAA/B,CAA9B;AACA,UAAMO,IAAI,GAAG,MAAMF,UAAU,CAACG,IAAX,EAAnB;;AACA,QAAID,IAAI,CAACE,KAAT,EAAgB;AACd,YAAMF,IAAI,CAACE,KAAX;AACD;;AACDX,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BQ,IAA5B;AACA,WAAOA,IAAP;AACD,GAlBD,CAkBE,OAAOE,KAAP,EAAc;AACdX,IAAAA,OAAO,CAACW,KAAR,CAAcA,KAAd;AACD;AACF,CAvBM","sourcesContent":["import React from \"react\";\nconst { REACT_APP_API_URL = `http://localhost:3000/api` } = process.env;\n\nexport const callApi = async ({ url, method, token, body }) => {\n  console.log(\"from callApi>>\", { body });\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    };\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    const respObject = await fetch(`${REACT_APP_API_URL}${url}`, options);\n    const data = await respObject.json();\n    if (data.error) {\n      throw data.error;\n    }\n    console.log('from callapi', data)\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}