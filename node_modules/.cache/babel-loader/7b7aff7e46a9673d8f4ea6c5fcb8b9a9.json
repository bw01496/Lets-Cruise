{"ast":null,"code":"var _jsxFileName = \"/Users/jinzo/Desktop/projects/outdoorsthings/src/components/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { getCartByUser } from \"../api\";\nimport { Products, Product, Login, MyCart, AdminEdit } from \"./\";\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [user, setUser] = useState(\"\");\n  const [loggedIn, setLoggedin] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [token, setToken] = useState();\n  const [myProducts, setMyProducts] = useState();\n  const [cartItems, setCartItems] = useState([]);\n  const [itemId, setItemId] = useState();\n  const [checkout, setCheckout] = useState([]);\n  const [isAdmin, setIsAdmin] = useState(false);\n  console.log(\"isadmin>>>>\", isAdmin);\n  console.log(\"Carteitems....from app\", cartItems);\n  let navigate = useNavigate(); //   useEffect( async () => {\n  //     setCartItems([]);\n  //     if(userId){\n  //         const usersCart = await getCartByUser(userId, token);\n  //         if(usersCart){\n  //             setCartItems(usersCart);\n  //         }\n  //     } else {\n  //         let localCart = localStorage.getItem('temporary-cart');\n  //         if(!localCart){\n  //             localCart = [];\n  //             localStorage.setItem('temporary-cart', localCart);\n  //         }\n  //         setCartItems(localCart);\n  //     }\n  // }, [userId]);\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"headerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Bikes and Things\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"title\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Products\"), \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 46\n    }\n  }, \"Cart\"), \" \", /*#__PURE__*/React.createElement(Link, {\n    className: token ? \"ifLoggedOut\" : \"\",\n    to: \"api/users/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Login/Register\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: token ? \"\" : \"ifLoggedOut\",\n    onClick: () => {\n      localStorage.removeItem(\"token\");\n      setLoggedin(false);\n      navigate(\"/\");\n      window.location.reload(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Log Out\"), isAdmin ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 20\n    }\n  }, \"Admin\") : null), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/products\",\n    element: /*#__PURE__*/React.createElement(Products, {\n      isAdmin: isAdmin,\n      setCartItems: setCartItems,\n      cartItems: cartItems,\n      itemId: itemId,\n      products: products,\n      setItemId: setItemId,\n      setProducts: setProducts,\n      setMyProducts: setMyProducts,\n      user: user,\n      token: token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/products/:productId\",\n    element: /*#__PURE__*/React.createElement(Product, {\n      products: products,\n      isAdmin: isAdmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"api/users/:method\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      setIsAdmin: setIsAdmin,\n      setToken: setToken,\n      setLoggedin: setLoggedin,\n      loggedIn: loggedIn,\n      setUserId: setUserId,\n      setUser: setUser,\n      setCartItems: setCartItems,\n      userId: userId,\n      token: token,\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    element: /*#__PURE__*/React.createElement(MyCart, {\n      userId: userId,\n      token: token,\n      products: products,\n      myProducts: myProducts,\n      setMyProducts: setMyProducts,\n      setCheckout: setCheckout,\n      setCartItems: setCartItems,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/admin\",\n    element: /*#__PURE__*/React.createElement(AdminEdit, {\n      products: products,\n      token: token,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/jinzo/Desktop/projects/outdoorsthings/src/components/App.js"],"names":["React","useState","useEffect","Routes","Route","Link","useNavigate","getCartByUser","Products","Product","Login","MyCart","AdminEdit","App","products","setProducts","user","setUser","loggedIn","setLoggedin","userId","setUserId","token","setToken","myProducts","setMyProducts","cartItems","setCartItems","itemId","setItemId","checkout","setCheckout","isAdmin","setIsAdmin","console","log","navigate","localStorage","removeItem","window","location","reload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,WAA9B,QAAiD,kBAAjD;AACA,SAASC,aAAT,QAA8B,QAA9B;AAEA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,KAA5B,EAAmCC,MAAnC,EAA2CC,SAA3C,QAA4D,IAA5D;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,EAAlC;AACA,QAAM,CAACuB,UAAD,EAAaC,aAAb,IAA8BxB,QAAQ,EAA5C;AACA,QAAM,CAACyB,SAAD,EAAYC,YAAZ,IAA4B1B,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAAC2B,MAAD,EAASC,SAAT,IAAsB5B,QAAQ,EAApC;AACA,QAAM,CAAC6B,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC+B,OAAD,EAAUC,UAAV,IAAwBhC,QAAQ,CAAC,KAAD,CAAtC;AACFiC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BH,OAA1B;AACEE,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCT,SAAtC;AACA,MAAIU,QAAQ,GAAG9B,WAAW,EAA1B,CAbgB,CAelB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAGE,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAE,OAAjB;AAA0B,IAAA,EAAE,EAAC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAKE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,oBAKuC,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALvC,EAKoE,GALpE,eAME,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEgB,KAAK,GAAG,aAAH,GAAmB,EAAzC;AAA6C,IAAA,EAAE,EAAC,iBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,eASE;AACE,IAAA,SAAS,EAAEA,KAAK,GAAG,EAAH,GAAQ,aAD1B;AAEE,IAAA,OAAO,EAAE,MAAM;AACbe,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAnB,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAiB,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACAG,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATF,EAoBGT,OAAO,gBAAG,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAH,GAAoC,IApB9C,CADF,eAuBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,OAAO,eACL,oBAAC,QAAD;AACE,MAAA,OAAO,EAAEA,OADX;AAEE,MAAA,YAAY,EAAEL,YAFhB;AAGE,MAAA,SAAS,EAAED,SAHb;AAIE,MAAA,MAAM,EAAEE,MAJV;AAKE,MAAA,QAAQ,EAAEd,QALZ;AAME,MAAA,SAAS,EAAEe,SANb;AAOE,MAAA,WAAW,EAAEd,WAPf;AAQE,MAAA,aAAa,EAAEU,aARjB;AASE,MAAA,IAAI,EAAET,IATR;AAUE,MAAA,KAAK,EAAEM,KAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAoBE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,sBAFP;AAGE,IAAA,OAAO,eAAE,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAER,QAAnB;AAA6B,MAAA,OAAO,EAAEkB,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,eAyBE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,mBADP;AAEE,IAAA,OAAO,eACL,oBAAC,KAAD;AACE,MAAA,UAAU,EAAEC,UADd;AAEE,MAAA,QAAQ,EAAEV,QAFZ;AAGE,MAAA,WAAW,EAAEJ,WAHf;AAIE,MAAA,QAAQ,EAAED,QAJZ;AAKE,MAAA,SAAS,EAAEG,SALb;AAME,MAAA,OAAO,EAAEJ,OANX;AAOE,MAAA,YAAY,EAAEU,YAPhB;AAQE,MAAA,MAAM,EAAEP,MARV;AASE,MAAA,KAAK,EAAEE,KATT;AAUE,MAAA,IAAI,EAAEN,IAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBF,eA0CE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,OAAO,eACL,oBAAC,MAAD;AACE,MAAA,MAAM,EAAEI,MADV;AAEE,MAAA,KAAK,EAAEE,KAFT;AAGE,MAAA,QAAQ,EAAER,QAHZ;AAIE,MAAA,UAAU,EAAEU,UAJd;AAKE,MAAA,aAAa,EAAEC,aALjB;AAME,MAAA,WAAW,EAAEM,WANf;AAOE,MAAA,YAAY,EAAEJ,YAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1CF,eAyDE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,eAAE,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAEb,QAArB;AAA+B,MAAA,KAAK,EAAEQ,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzDF,CAvBF,CADF;AAyFD,CA3HD;;AA6HA,eAAeT,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Routes, Route, Link, useNavigate } from \"react-router-dom\";\nimport { getCartByUser } from \"../api\";\n\nimport { Products, Product, Login, MyCart, AdminEdit } from \"./\";\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [user, setUser] = useState(\"\");\n  const [loggedIn, setLoggedin] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const [token, setToken] = useState();\n  const [myProducts, setMyProducts] = useState();\n  const [cartItems, setCartItems] = useState([]);\n  const [itemId, setItemId] = useState();\n  const [checkout, setCheckout] = useState([]);\n  const [isAdmin, setIsAdmin] = useState(false);\nconsole.log(\"isadmin>>>>\",isAdmin)\n  console.log(\"Carteitems....from app\", cartItems);\n  let navigate = useNavigate();\n\n//   useEffect( async () => {\n//     setCartItems([]);\n//     if(userId){\n//         const usersCart = await getCartByUser(userId, token);\n//         if(usersCart){\n//             setCartItems(usersCart);\n//         }\n//     } else {\n//         let localCart = localStorage.getItem('temporary-cart');\n//         if(!localCart){\n//             localCart = [];\n//             localStorage.setItem('temporary-cart', localCart);\n//         }\n//         setCartItems(localCart);\n        \n//     }\n// }, [userId]);\n\n\n  return (\n    <>\n      <header>\n        <h1 className=\"headerTitle\">Bikes and Things</h1>\n        <Link className={\"title\"} to=\"/\">\n          Home\n        </Link>\n        <Link to=\"/products\">Products</Link> <Link to=\"/cart\">Cart</Link>{\" \"}\n        <Link className={token ? \"ifLoggedOut\" : \"\"} to=\"api/users/login\">\n          Login/Register\n        </Link>\n        <button\n          className={token ? \"\" : \"ifLoggedOut\"}\n          onClick={() => {\n            localStorage.removeItem(\"token\");\n            setLoggedin(false);\n            navigate(\"/\");\n            window.location.reload(false);\n          }}\n        >\n          Log Out\n        </button>\n        {isAdmin ? <Link to=\"/admin\">Admin</Link> : null}\n      </header>\n      <Routes>\n        <Route exact path=\"/\" />\n        <Route\n          exact\n          path=\"/products\"\n          element={\n            <Products\n              isAdmin={isAdmin}\n              setCartItems={setCartItems}\n              cartItems={cartItems}\n              itemId={itemId}\n              products={products}\n              setItemId={setItemId}\n              setProducts={setProducts}\n              setMyProducts={setMyProducts}\n              user={user}\n              token={token}\n            />\n          }\n        />\n        <Route\n          exact\n          path=\"/products/:productId\"\n          element={<Product products={products} isAdmin={isAdmin} />}\n        />\n        <Route\n          path=\"api/users/:method\"\n          element={\n            <Login\n              setIsAdmin={setIsAdmin}\n              setToken={setToken}\n              setLoggedin={setLoggedin}\n              loggedIn={loggedIn}\n              setUserId={setUserId}\n              setUser={setUser}\n              setCartItems={setCartItems}\n              userId={userId}\n              token={token}\n              user={user}\n            />\n          }\n        />\n        <Route\n          exact\n          path=\"/cart\"\n          element={\n            <MyCart\n              userId={userId}\n              token={token}\n              products={products}\n              myProducts={myProducts}\n              setMyProducts={setMyProducts}\n              setCheckout={setCheckout}\n              setCartItems={setCartItems}\n            />\n          }\n        />\n        <Route\n          exact\n          path=\"/admin\"\n          element={<AdminEdit products={products} token={token} />}\n        />\n      </Routes>\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}