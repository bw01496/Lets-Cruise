{"ast":null,"code":"import React from \"react\";\nconst {\n  REACT_APP_API_URL = `https://outdoorstuff.herokuapp.com/api`\n} = process.env;\nexport const callApi = async ({\n  url,\n  method,\n  body\n}) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    };\n\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    const respObject = await fetch(`${REACT_APP_API_URL}${url}`, options);\n    const data = await respObject.json();\n\n    if (data.error) {\n      throw data.error;\n    }\n\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"sources":["/Users/jinzo/Desktop/projects/outdoorsthings/src/components/utils/index.js"],"names":["React","REACT_APP_API_URL","process","env","callApi","url","method","body","token","localStorage","getItem","options","toUpperCase","headers","JSON","stringify","respObject","fetch","data","json","error","console"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAM;AAAEC,EAAAA,iBAAiB,GAAI;AAAvB,IACJC,OAAO,CAACC,GADV;AAGA,OAAO,MAAMC,OAAO,GAAG,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,MAAP;AAAeC,EAAAA;AAAf,CAAP,KAAiC;AACtD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,MAAI;AACF,UAAMC,OAAO,GAAG;AACdL,MAAAA,MAAM,EAAEA,MAAM,GAAGA,MAAM,CAACM,WAAP,EAAH,GAA0B,KAD1B;AAEdC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFK;AAKdN,MAAAA,IAAI,EAAEO,IAAI,CAACC,SAAL,CAAeR,IAAf;AALQ,KAAhB;;AAOA,QAAIC,KAAJ,EAAW;AACTG,MAAAA,OAAO,CAACE,OAAR,CAAgB,eAAhB,IAAoC,UAASL,KAAM,EAAnD;AACD;;AACD,UAAMQ,UAAU,GAAG,MAAMC,KAAK,CAAE,GAAEhB,iBAAkB,GAAEI,GAAI,EAA5B,EAA+BM,OAA/B,CAA9B;AACA,UAAMO,IAAI,GAAG,MAAMF,UAAU,CAACG,IAAX,EAAnB;;AACA,QAAID,IAAI,CAACE,KAAT,EAAgB;AACd,YAAMF,IAAI,CAACE,KAAX;AACD;;AAED,WAAOF,IAAP;AACD,GAlBD,CAkBE,OAAOE,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,CAxBM","sourcesContent":["import React from \"react\";\nconst { REACT_APP_API_URL = `https://outdoorstuff.herokuapp.com/api` } =\n  process.env;\n\nexport const callApi = async ({ url, method, body }) => {\n  const token = localStorage.getItem(\"token\");\n\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    };\n    if (token) {\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    const respObject = await fetch(`${REACT_APP_API_URL}${url}`, options);\n    const data = await respObject.json();\n    if (data.error) {\n      throw data.error;\n    }\n\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}