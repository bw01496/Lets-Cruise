{"ast":null,"code":"var _jsxFileName = \"/Users/jinzo/Desktop/projects/outdoorsthings/src/components/Products.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, Routes, useNavigate } from \"react-router-dom\";\nimport { createOrder, getCartByUser } from \"../api\";\n\nconst Products = ({\n  products,\n  setProducts,\n  user,\n  token,\n  setCartItems,\n  setMyProducts\n}) => {\n  console.log('>>> products js component', products);\n  const navigate = useNavigate();\n\n  const allProducts = async () => {\n    try {\n      const response = await fetch(`http://localhost:3000/api/products`);\n      const data = await response.json();\n      setProducts(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    allProducts();\n  }, []);\n\n  const addProductToOrder = async productId => {\n    console.log(\"adding product to order\");\n\n    try {\n      const order = await createOrder({\n        userId: user.id,\n        completePurchase: false,\n        productId: productId,\n        quantity: 1,\n        token\n      });\n      console.log(\"From addProdcct\", order);\n      const cart = await getCartByUser(user.id, token);\n      setMyProducts(cart);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  }, \"Products\"), products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    key: product.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }\n  }, product.price), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"img\", {\n    src: product.imgurl,\n    width: \"200\",\n    height: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    value: product.id,\n    onClick: event => navigate(`${event.target.value}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  }, \"View\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    value: product.id,\n    onClick: event => addProductToOrder(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }\n  }, \"Add to Cart\"))));\n};\n\nexport default Products;","map":{"version":3,"sources":["/Users/jinzo/Desktop/projects/outdoorsthings/src/components/Products.js"],"names":["React","useEffect","useState","Link","Routes","useNavigate","createOrder","getCartByUser","Products","products","setProducts","user","token","setCartItems","setMyProducts","console","log","navigate","allProducts","response","fetch","data","json","error","addProductToOrder","productId","order","userId","id","completePurchase","quantity","cart","map","product","title","price","description","imgurl","event","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Link, Routes, useNavigate } from \"react-router-dom\";\nimport { createOrder, getCartByUser } from \"../api\"\n\n\nconst Products = ({ products, setProducts, user, token, setCartItems, setMyProducts }) => {\n    console.log('>>> products js component', products)\n\n    const navigate = useNavigate()\n\n    const allProducts = async () => {\n        try {\n          const response = await fetch(`http://localhost:3000/api/products`);\n          const data = await response.json();\n          setProducts(data);\n        } catch (error) {\n          console.error(error);\n        }\n      };\n      useEffect(() => {\n        allProducts();\n      }, []);\n\n      const addProductToOrder = async (productId) => {\n        console.log(\"adding product to order\")\n\n        try {\n          const order = await createOrder({\n            userId: user.id,\n            completePurchase: false,\n            productId: productId,\n            quantity: 1,\n            token \n         });\n         console.log(\"From addProdcct\",order)\n         const cart = await getCartByUser(user.id, token)\n         setMyProducts(cart)\n\n        } catch(error) {\n          console.error(error)\n\n        }\n       \n      \n      }\n\n\n  \n    return (\n       <>\n       <h2>Products</h2>\n       {products.map((product) => (\n           <div className=\"products\" key={product.id}>\n           <h1>{product.title}</h1>\n           <h3>{product.price}</h3>\n           <p>{product.description}</p>\n           <img src={product.imgurl} width=\"200\" height=\"200\"></img>\n           <button value={product.id} onClick={(event) => navigate(`${event.target.value}`)}>View</button>\n           <br></br>\n           <button value={product.id} onClick={(event) => addProductToOrder(event.target.value)}>Add to Cart</button>\n\n           </div>\n       ))}\n       </>\n\n    )\n\n\n\n}\n\nexport default Products;"]},"metadata":{},"sourceType":"module"}